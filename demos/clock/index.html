<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />

    <title>jQTouch &beta;</title>

    <style type="text/css" media="screen">@import "../../jqtouch/jqtouch.css";</style>
    <style type="text/css" media="screen">@import "../../themes/apple/jqtouch.css";</style>

    <script src="../../jqtouch/jquery.1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../jqtouch/jqtouch.events.js" type="application/x-javascript" charset="utf-8"></script>
    <script src="../../jqtouch/jqtouch.js" type="application/x-javascript" charset="utf-8"></script>
    
    <!-- CLOCK DEMO -->
    <link rel="stylesheet" href="clock.css" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript" charset="utf-8">
        $.jQTouch({
            icon: 'jqtouch.png',
            statusBar: 'black-translucent'
        });
        
        $(function(){
            
            $('#philly').data('tz_offset', -5);
            $('#la').data('tz_offset', -8);
            
            updateClocks();
            setInterval(updateClocks, 1000);
            
            function updateClocks() {
                
                var localTime = new Date();
                
                $('.clocks > div').each(function(){
                    var tz_offset = $(this).data('tz_offset') || 0;

                    var ms = localTime.getTime() 
                         + (localTime.getTimezoneOffset() * 60000)
                         + (tz_offset + 1) * 3600000;
                    var time = new Date(ms);
                    var hour = time.getHours();
                    var minute = time.getMinutes();
                    var second = time.getSeconds();

                    var $el = $(this);
                    
                    $('.hour', $el).css('-webkit-transform', 
                        'rotate(' + ( hour * 30 + (minute/2) ) + 'deg)');
                    $('.min', $el).css('-webkit-transform', 
                        'rotate(' + ( minute * 6 ) + 'deg)');
                    $('.sec', $el).css('-webkit-transform',
                        'rotate(' + ( second * 6 ) + 'deg)');
                });
            }
        });
    </script>
</head>
<body>
    <div class="panel" id="home" selected="true">
        <div class="toolbar">
            <h1>World Clock</h1>
            <a href="#add" class="button leftButton flip">info</a>
            <a href="#add" class="button slideup">+</a>
        </div>
        <div class="clocks">
            <div>
                <div class="clock">
                    <div class="hour"></div>
                    <div class="min"></div>
                    <div class="sec"></div>
                </div>
                <div class="city">GMT</div>
                <div class="time">Time</div>
            </div>
            <div id="la">
                <div class="clock">
                    <div class="hour"></div>
                    <div class="min"></div>
                    <div class="sec"></div>
                </div>
                <div class="city">Los Angeles</div>
                <div class="time">Time</div>
            </div>
            <div id="philly">
                <div class="clock">
                    <div class="hour"></div>
                    <div class="min"></div>
                    <div class="sec"></div>
                </div>
                <div class="city">Philadelphia</div>
                <div class="time">Time</div>
            </div>
        </div>
    </div>
    <div class="panel" id="add">
        <div class="toolbar">
            <h1>New Time Zone</h1>
            <a href="#add" class="button back">info</a>
        </div>
        <form>
            
        </form>
    </div>
</body>
</html>